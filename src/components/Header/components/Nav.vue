<template>
  <!-- 右边导航 -->
  <div class="es-header-nav es-flex es-items-center es-space-x-4 md:es-space-x-6 lg:es-space-x-10">
    <!-- 搜索按钮 -->
    <div class="es-nav-search-btn md:es-hidden">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" t="1696137490375" class="icon"
        viewBox="0 0 1024 1024" version="1.1" p-id="29178" width="20" height="20">
        <path
          d="M512 858.3168c-194.816 0-352-166.2464-352-370.4832S317.184 117.3504 512 117.3504s352 166.2464 352 370.4832-157.184 370.4832-352 370.4832z m0-64c158.6688 0 288-136.8576 288-306.4832 0-169.6768-129.3312-306.4832-288-306.4832S224 318.1568 224 487.8336c0 169.6256 129.3312 306.4832 288 306.4832zM717.312 799.9488a32 32 0 0 1 46.4896-43.9808l91.4432 96.7168a32 32 0 0 1-46.4896 43.9808l-91.4432-96.768z"
          fill="#2c2c2c" p-id="29179" class="dark:es-fill-slate-300" />
      </svg>
    </div>
    <!-- 主题 -->
    <div class="es-theme">
      <div @click="changeTheme"
        class="es-w-6 es-h-6 es-bg-white dark:es-bg-neutral-800 es-rounded-full es-p-1 es-shadow-[0_1px_2px_0_rgba(0,0,0,0.2)]">
        <div v-show="isFlag === true">
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" t="1696137628119"
            class="icon" viewBox="0 0 1024 1024" version="1.1" p-id="30391" width="16" height="16">
            <path
              d="M513.123 795.991c-76.156 0-147.753-29.658-201.603-83.508-53.849-53.849-83.504-125.444-83.504-201.596 0-76.153 29.657-147.749 83.504-201.598 53.85-53.851 125.446-83.508 201.603-83.508 76.147 0 147.742 29.658 201.593 83.508 53.853 53.852 83.511 125.447 83.511 201.598s-29.659 147.747-83.511 201.597c-53.852 53.85-125.445 83.507-201.593 83.507zM513.123 272.352c-131.529 0-238.534 107.007-238.534 238.535s107.006 238.533 238.534 238.533 238.533-107.005 238.533-238.533c0-131.529-107.006-238.535-238.533-238.535z"
              fill="#2c2c2c" p-id="30392" />
            <path
              d="M513.123 149.007c-12.861 0-23.285-10.426-23.285-23.285v-91.359c0-12.861 10.426-23.285 23.285-23.285s23.285 10.426 23.285 23.285v91.358c0 12.862-10.426 23.286-23.285 23.286z"
              fill="#2c2c2c" p-id="30393" />
            <path
              d="M513.123 1010.674c-12.861 0-23.285-10.426-23.285-23.285v-91.346c0-12.861 10.426-23.285 23.285-23.285s23.285 10.426 23.285 23.285v91.346c0 12.861-10.426 23.285-23.285 23.285z"
              fill="#2c2c2c" p-id="30394" />
            <path
              d="M240.764 261.825c-5.959 0-11.919-2.274-16.466-6.821l-64.592-64.591c-9.094-9.093-9.094-23.838 0-32.931 9.093-9.094 23.838-9.094 32.931 0l64.593 64.592c9.094 9.093 9.094 23.838 0 32.931-4.546 4.545-10.507 6.82-16.467 6.82z"
              fill="#2c2c2c" p-id="30395" />
            <path
              d="M850.050 871.111c-5.958 0-11.919-2.272-16.467-6.82l-64.593-64.593c-9.093-9.094-9.093-23.839 0-32.932 9.094-9.094 23.839-9.094 32.932 0l64.593 64.593c9.093 9.094 9.093 23.839 0 32.932-4.546 4.545-10.507 6.82-16.466 6.82z"
              fill="#2c2c2c" p-id="30396" />
            <path
              d="M36.59 534.183c-12.861 0.001-23.286-10.423-23.289-23.283-0.001-12.861 10.423-23.286 23.283-23.289l91.348-0.011c12.861-0.001 23.286 10.423 23.289 23.283 0.001 12.861-10.423 23.286-23.283 23.289l-91.348 0.011z"
              fill="#2c2c2c" p-id="30397" />
            <path
              d="M989.613 534.173h-91.346c-12.861 0-23.285-10.426-23.285-23.285s10.426-23.285 23.285-23.285h91.346c12.861 0 23.285 10.426 23.285 23.285s-10.426 23.285-23.285 23.285z"
              fill="#2c2c2c" p-id="30398" />
            <path
              d="M176.173 871.122c-5.959 0-11.919-2.272-16.466-6.82-9.094-9.094-9.094-23.839 0-32.932l64.593-64.593c9.094-9.094 23.838-9.094 32.931 0s9.094 23.839 0 32.932l-64.593 64.593c-4.546 4.546-10.506 6.82-16.466 6.82z"
              fill="#2c2c2c" p-id="30399" />
            <path
              d="M785.457 261.825c-5.959 0-11.918-2.272-16.467-6.821-9.094-9.094-9.093-23.838 0.001-32.931l64.593-64.592c9.094-9.093 23.838-9.094 32.931 0s9.093 23.838-0.001 32.931l-64.593 64.592c-4.545 4.546-10.506 6.821-16.465 6.821z"
              fill="#2c2c2c" p-id="30400" />
          </svg>
        </div>
        <div v-show="isFlag === false">
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" t="1696137672434"
            class="icon" viewBox="0 0 1024 1024" version="1.1" p-id="32362" width="16" height="16">
            <path
              d="M696.832 215.552c98.816 62.976 162.304 173.056 162.304 294.912 0 192.512-156.672 349.184-349.184 349.184-121.856 0-232.448-63.488-294.912-162.816h5.12c263.168 0 477.184-214.016 477.184-477.184-0.512-1.536-0.512-3.072-0.512-4.096m-78.336-103.936c9.216 34.304 14.336 70.656 14.336 108.032 0 228.352-184.832 413.184-413.184 413.184-37.376 0-73.728-5.12-108.544-14.336 47.616 175.616 207.872 305.152 398.848 305.152 228.352 0 413.184-184.832 413.184-413.184 0-190.976-129.024-351.232-304.64-398.848z"
              fill="#2c2c2c" p-id="32363" class="dark:es-fill-white" />
          </svg>
        </div>
      </div>
    </div>
    <!-- 语言的切换 -->
    <div class="es-language es-relative">
      <div class="es-active-language es-rounded-2xl">
        <span class="es-font-serif dark:es-text-white">English</span>
      </div>
      <div
        class="es-select es-absolute es-overflow-hidden es-bg-slate-50 es-rounded-md es-shadow-[0px_2px_6px_rgba(0,0,0,0.3)] es-text-sm es-bottom-0 es-translate-y-full es-opacity-0 es-transition-all es-duration-700 es-ease-in-out">
        <ul>
          <li @click="changeLang('zh')"
            class="es-py-1 es-px-2 es-font-serif hover:es-bg-[#ccc] hover:es-text-red-600 es-transition-all es-duration-500">
            zh-en
          </li>
          <li @click="changeLang('en')"
            class="es-py-1 es-px-2 es-font-serif hover:es-bg-[#ccc] hover:es-text-rose-600 es-transition-all es-duration-500">
            English
          </li>
        </ul>
      </div>
    </div>

    <div class="es-issue es-hidden lg:es-block" :title="t('headerNav.issue')">
      <a href="#">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" t="1696137096303" class="icon"
          viewBox="0 0 1024 1024" version="1.1" p-id="17195" width="20" height="20">
          <path
            d="M512.006 1023.98c-282.594481-0.299994-511.690006-229.295522-511.99-511.99 0.299994-282.594481 229.39552-511.690006 511.99-511.99 282.594481 0.299994 511.690006 229.39552 511.99 511.99-0.299994 282.694479-229.39552 511.690006-511.99 511.99z m0-928.281869c-229.795512 0.199996-416.091873 186.496357-416.391867 416.291869 0.299994 229.795512 186.496357 416.091873 416.391867 416.291869 229.795512-0.299994 416.091873-186.496357 416.291869-416.291869-0.199996-229.795512-186.496357-416.091873-416.291869-416.291869z"
            p-id="17196" fill="#2c2c2c" class="dark:es-fill-slate-50" />
          <path
            d="M702.602277 464.990918h-143.697193v-143.597195c0-25.999492-20.99959-46.999082-46.999082-46.999082s-46.999082 20.99959-46.999082 46.999082v143.597195h-143.597196c-25.999492 0-46.999082 20.99959-46.999082 46.999082s20.99959 46.999082 46.999082 46.999082h143.597196v143.597196c0 25.999492 21.099588 46.999082 46.999082 46.999082 25.999492 0 46.999082-21.099588 46.999082-46.999082v-143.497198h143.597195c25.999492 0 46.999082-20.99959 46.999082-46.999082 0.099998-25.999492-20.899592-47.09908-46.899084-47.09908z"
            p-id="17197" fill="#2c2c2c" class="dark:es-fill-slate-50" />
        </svg>
      </a>
    </div>

    <div class="es-inform es-hidden lg:es-block" :title="t('headerNav.message')">
      <a href="#">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" t="1696136892116" class="icon"
          viewBox="0 0 1024 1024" version="1.1" p-id="5213" width="20" height="20">
          <path
            d="M336.7 822.9c0 76.6 75.8 133.4 164.7 133.4S666 899.5 666 822.9h-79.4c0 26.9-36 53.9-85.2 53.9s-85.2-27-85.2-53.9h-79.5zM200.7 723.5l55.7-54.8c7.6-7.5 11.9-17.7 11.9-28.3V451c-3.7-112.8 83.6-206.3 195.2-210 37.9-1.3 85.9-66.3 85.9-133.5-0.3-22-18.4-39.5-40.4-39.1-21.5 0.3-38.8 17.7-39.1 39.1 0 18.5-5.6 34-15 46.7-2.1 2.9-4.4 5.6-6.9 8.1-149.2 11.7-264.1 138.9-259.1 290v171.4L117.3 694c-25.1 24.6-25.4 64.9-0.8 90 12 12.2 28.3 19.1 45.4 19h703.7c33.2 0 60.2-27 60.2-60.2 0-16.1-6.5-31.6-18-42.9l-77.4-76.1V451.1C830.3 319.7 742 204.7 615 171c-21.3-5.4-42.9 7.5-48.3 28.7-5.3 21 7.1 42.4 28 48.1 92.1 24.5 156.2 107.9 156.2 203.1v189.4c0 10.7 4.3 20.9 11.9 28.3l55.7 54.8-617.8 0.1z"
            fill="#2c2c2c" p-id="5214" class="dark:es-fill-slate-50" />
        </svg>
      </a>
    </div>

    <div class="es-login es-hidden lg:es-block">
      <button type="button"
        class="es-login-btn es-w-16 es-h-9 es-rounded-2xl es-text-sm es-bg-red-600 es-text-white es-font-semibold">
        {{ t('auth.login') }}
      </button>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import { useI18n } from 'vue-i18n'

const { t, locale } = useI18n()

// 设置主题模式
const isFlag = ref<boolean>(true)

// 切换主题
const changeTheme = () => {
  isFlag.value = !isFlag.value
  if (!isFlag.value) {
    document.documentElement.className = 'es-dark'
  } else {
    document.documentElement.className = ''
  }
}

// 切换语言
const changeLang = (lang: string) => {
  locale.value = lang
  localStorage.setItem('LANG', lang)
}

defineOptions({
  name: 'EsHeaderNav'
})

</script>

<style scoped lang="css">
.es-language:hover .es-select {
  opacity: 1 !important;
}
</style>
